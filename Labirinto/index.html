<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DataMaze – A Fuga Digital</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <!-- Controles de toque para dispositivos móveis -->
    <div id="touchControls" class="touch-controls">
      <div class="d-pad">
        <div class="d-up" id="touchUp">↑</div>
        <div class="d-middle">
          <div class="d-left" id="touchLeft">←</div>
          <div class="d-center"></div>
          <div class="d-right" id="touchRight">→</div>
        </div>
        <div class="d-down" id="touchDown">↓</div>
      </div>
    </div>
    <header class="hud">
      <div class="hud-left">
        <span class="brand">DataMaze</span>
        <span class="sep">|</span>
        <span id="levelLabel">Fase: –</span>
      </div>
      <div class="hud-center">
        <span>Tempo: <strong id="timer">00:00</strong></span>
      </div>
      <div class="hud-right">
        <span>Pontos: <strong id="score">0</strong></span>
        <button id="btnHowToPlay" class="btn outline" style="margin: 0 10px;">Como Jogar</button>
        <button id="btnPause" class="btn outline">Pausar</button>
      </div>
    </header>

    <main class="game-wrap">
      <canvas id="game" width="960" height="640"></canvas>
      
      <!-- How to Play Modal -->
      <div id="howToPlayModal" class="overlay">
        <div class="panel">
          <h2>Como Jogar</h2>
          <div id="desktopInstructions" style="display: none;">
            <p>Use as <strong>setas do teclado</strong> ou <strong>WASD</strong> para se mover pelo labirinto.</p>
            <p>Colete todos os itens para avançar para a próxima fase.</p>
          </div>
          <div id="mobileInstructions" style="display: none;">
            <p>Toque na tela para se mover:</p>
            <div class="mobile-controls-demo">
              <div class="control-zone up">↑</div>
              <div class="control-zone-row">
                <div class="control-zone left">←</div>
                <div class="control-zone center"></div>
                <div class="control-zone right">→</div>
              </div>
              <div class="control-zone down">↓</div>
            </div>
          </div>
          <div class="btn-grid" style="margin-top: 20px;">
            <button id="btnCloseHowToPlay" class="btn primary">Entendi</button>
          </div>
        </div>
      </div>

      <!-- Menu de Pausa -->
      <div id="pauseMenu" class="overlay">
        <div class="panel">
          <h2>Jogo Pausado</h2>
          <div class="btn-grid">
            <button id="btnResume" class="btn primary">Continuar</button>
            <button id="btnRestart" class="btn">Reiniciar</button>
            <button id="btnMainMenu" class="btn outline">Menu Principal</button>
          </div>
        </div>
      </div>

      <div id="startScreen" class="overlay visible">
        <div class="panel">
          <h1>DataMaze</h1>
          <p>Um pacote de dados tentando escapar pelos circuitos digitais.</p>
          <div class="btn-grid">
            <button data-difficulty="easy" class="btn primary">Fácil</button>
            <button data-difficulty="medium" class="btn">Médio</button>
            <button data-difficulty="hard" class="btn danger">Difícil</button>
          </div>
          <div class="btn-grid" style="grid-template-columns: 1fr 1fr; margin-top: 8px;">
            <button id="btnCampaign" class="btn primary">Campanha 3 Fases</button>
            <button id="btnInfinite" class="btn">Modo Infinito</button>
          </div>
          <p class="hint">Controles: WASD, Setas ou Toque. Chegue ao portal a tempo. Colete fragmentos para mais pontos.</p>
          <p class="hint" style="font-size: 12px; color: #666;">* Campanha em desenvolvimento.</p>
        </div>
      </div>

      <div id="endScreen" class="overlay">
        <div class="panel">
          <h2 id="endTitle">Transferência concluída</h2>
          <p id="endSubtitle"></p>
          <div class="stats">
            <div><span>Total de pontos</span><strong id="finalScore">0</strong></div>
            <div><span>Tempo total</span><strong id="finalTime">00:00</strong></div>
          </div>
          <div class="btn-grid">
            <button id="btnRetry" class="btn">Jogar novamente</button>
            <button id="btnMenu" class="btn outline">Menu</button>
          </div>
        </div>
      </div>

      <div id="toast"></div>
    </main>

    <footer class="foot">
      <span>“DataMaze – A Fuga Digital” • Tema forense/tecnológico</span>
    </footer>
  </div>

  <script src="main.js"></script>
</body>
</html>
